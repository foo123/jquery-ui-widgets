/**
*
*   jQueryUI Extra Widgets
*   https://github.com/foo123/jquery-ui-widgets
*
**/!function(e,t){"use strict";function s(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function a(){var e=o(this);return e.is("[data-reftooltip]")?o(e.data("reftooltip")).html():e.is("[data-tooltip]")?e.data("tooltip"):e.attr("title")}function n(e){switch(e){case"top":return{my:"center bottom-15",at:"center top",using:function(e,t){o(this).css(e).css({"z-index":2e3}),o("<div>").addClass("tip-arrow tip-arrow-bottom").addClass(t.vertical).addClass(t.horizontal).appendTo(this)}};case"bottom":return{my:"center top+15",at:"center bottom",using:function(e,t){o(this).css(e).css({"z-index":2e3}),o("<div>").addClass("tip-arrow tip-arrow-top").addClass(t.vertical).addClass(t.horizontal).appendTo(this)}};case"left":return{my:"right-15 center",at:"left center",using:function(e,t){o(this).css(e).css({"z-index":2e3}),o("<div>").addClass("tip-arrow tip-arrow-right").addClass(t.vertical).addClass(t.horizontal).appendTo(this)}};case"right":default:return{my:"left+15 left",at:"right center",using:function(e,t){o(this).css(e).css({"z-index":2e3}),o("<div>").addClass("tip-arrow tip-arrow-left").addClass(t.vertical).addClass(t.horizontal).appendTo(this)}}}}var l,i,o=e,r="hasOwnProperty";l=function(){var e="uiExtra",t=function(t){return e+"."+t},s=0,a=function(e){return[e||"UI",++s,(new Date).getTime()].join("_")},n=function(){var e,t=null,s=document.createElement("div"),a={transition:"transitionend",msTransition:"MSTransitionEnd",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in a)if(a[r](e)&&"undefined"!=typeof s.style[e]){t=a[e];break}return t};return{NS:t,UUID:a,transitionEvent:n()}}(),i=l,o.fn.transferClasses=function(e,t){if(2<=arguments.length){var a,n,l,i=o(t),r=i[0].className.split(/\s+/g);if(r.length){for(n=new RegExp("^"+s(e),""),a=[],l=r.length-1;l>=0;l--)r[l].match(n)&&(a.push(r[l]),r.splice(l,1));a.length&&(i.attr("class",r.join(" ")),a=a.join(" "),this.addClass(a))}}return this};var d=1,c=2,p=4,u=8;o.widget(i.NS("checkbox"),{_cbtype:null,_classes:null,_wrapper:null,_create:function(){var e,t,s=this,a=s.element;t="radio"===a.attr("type")?c:d,a.hasClass("ui-switch-button")&&(t|=p),a.hasClass("ui-push-button")&&(t|=u),s._cbtype=t,a.attr("id")||a.attr("id",i.UUID()),e=s._wID=a.attr("id"),p&t?s._wrapper=a.wrap("<span />").parent().addClass("ui-switch").append(o('<label for="'+e+'" class="ui-switch-off">OFF</label><label for="'+e+'" class="ui-switch-on">ON</label><span class="ui-switch-handle ui-state-default"></span>')):(s._classes=c&t?"ui-radio":"ui-checkbox",a.addClass(s._classes).after(o('<label for="'+e+'">&nbsp;</label>')))},_destroy:function(){var e=this;p&e._cbtype?(e.element.unwrap(),e._wrapper.remove()):e.element.removeClass(e._classes).next().remove(),e._classes=null,e._wrapper=null}}),o.widget(i.NS("disabable"),{options:{},_overlay:null,_isDisabled:!1,_create:function(){var e=this;e.element.addClass("ui-disabable").append(e._overlay=o("<div />").addClass("ui-disabable-overlay"))},enableIt:function(){var e=this;e._isDisabled&&(e.element.removeClass("ui-disabled").addClass("ui-enabled"),e._isDisabled=!1)},disableIt:function(){var e=this;e._isDisabled||(e.element.removeClass("ui-enabled").addClass("ui-disabled"),e._isDisabled=!0)},toggle:function(){var e=this;e._isDisabled?e.enableIt():e.disableIt()},_destroy:function(){var e=this;e._overlay.remove(),e._overlay=null,e.element.removeClass("ui-disabable")}}),o.widget(i.NS("delayable"),{options:{},_overlay:null,_isVisible:!1,_create:function(){var e=this,t=e.element;t.addClass("ui-delayable").append(e._overlay=o("<div />").addClass("ui-delayable-overlay").append(o("<div />").addClass("ui-spinner").transferClasses("ui-spinner-",t)))},enableIt:function(){var e=this;e._isVisible||(e.element.removeClass("ui-undelayed").addClass("ui-delayed"),e._overlay.children(".ui-spinner").addClass("active"),e._isVisible=!0)},disableIt:function(){var e=this;e._isVisible&&(e.element.removeClass("ui-delayed").addClass("ui-undelayed"),e._overlay.children(".ui-spinner").removeClass("active"),e._isVisible=!1)},toggle:function(){var e=this;e._isVisible?e.disableIt():e.enableIt()},_destroy:function(){var e=this;e._overlay.remove(),e._overlay=null,e.element.removeClass("ui-delayable")}});var h=function(e,t,s,a){return"insertRule"in e.sheet?(e.sheet.insertRule(t+"{"+s+"}",a),e.sheet.cssRules[a]):"addRule"in e.sheet?(e.sheet.addRule(t,s,a),e.sheet.rules[a]):void 0},_=function(e,t){if("object"==typeof t){var s,a,n=0;for(s in t)t[r](s)&&(a=t[s],a.css=h(e,a.selector,[].concat(a.rules).join("; "),n++))}return t},m=function(e,t){var s=document.createElement("style");return s.setAttribute("media",e||"all"),s.setAttribute("type","text/css"),s.appendChild(document.createTextNode("")),document.head.appendChild(s),t&&_(s,t),s},v=function(e){e&&document.head.removeChild(e)};o.widget(i.NS("morphable"),{options:{useStyleSheet:!0,modes:[],modeClass:"mode-${MODE}",showClass:"show-if-${MODE}",hideClass:"hide-if-${MODE}"},_styleSheet:null,_cssStyles:null,_create:function(){var e,t,s,a,n,l=this,o=l.options,d=l.element,c={},p=o[r]("showClass")&&o.showClass,u=o[r]("hideClass")&&o.hideClass,h=[].concat(o.modes||[]);for(d.attr("id")||d.attr("id",i.UUID()),d.hasClass("ui-morphable")||d.addClass("ui-morphable"),n="#"+d.attr("id")+".ui-morphable",s=[],a=[],e=0;e<h.length;e++)if(u&&s.push(n+"."+o.modeClass.split("${MODE}").join(h[e])+" ."+o.hideClass.split("${MODE}").join(h[e])),p&&a.push(n+"."+o.modeClass.split("${MODE}").join(h[e])+" ."+o.showClass.split("${MODE}").join(h[e])),p||u)for(t=0;t<h.length;t++)t!==e&&(p&&s.push(n+"."+o.modeClass.split("${MODE}").join(h[e])+" ."+o.showClass.split("${MODE}").join(h[t])+":not(."+o.showClass.split("${MODE}").join(h[e])+")"),u&&a.push(n+"."+o.modeClass.split("${MODE}").join(h[e])+" ."+o.hideClass.split("${MODE}").join(h[t])+":not(."+o.hideClass.split("${MODE}").join(h[e])+")"));s.length&&(c.hide_mode={selector:s.join(","),rules:["display: none !important"]}),a.length&&(c.show_mode={selector:a.join(","),rules:["display: block"]}),l._styleSheet=m("all",l._cssStyles=c)},_destroy:function(){var e=this;e.element.removeClass("ui-morphable"),e._cssStyles=null,v(e._styleSheet),e._styleSheet=null}}),o.widget(i.NS("removable"),{options:{classes:{wrapper:"ui-removable-wrapper",handle:"ui-removable-remove"},icon:null,effect:"fadeOut",duration:400,easing:"linear",wrap:!1,autoremove:!0,onremove:null},_wrapper:null,_handle:null,_create:function(){var e=this,t=e.options;e.element.addClass("ui-removable"),e._wrapper=t.wrap?e.element.wrap("<div />").parent().addClass(t.classes.wrapper):e.element.addClass(t.classes.wrapper),e._handle=o("<button />").addClass(t.classes.handle),t.icon&&e._handle.addClass(["ui-icon",t.icon].join(" ")),e._wrapper.append(e._handle),e._on(e._handle,{click:"_removeItHandler"})},_removeItHandler:function(e){e.preventDefault(),this._removeIt(e)},_removeIt:function(e){var t=this,s=t.options;t._wrapper.fadeOut(s.duration,s.easing,function(){s.autoremove&&t._wrapper.remove(),t._trigger("onremove",e||null,{target:t.element})})},remove:function(){this._removeIt()},_destroy:function(){var e=this;e._off(e._handle,"click"),e._handle.remove(),e.options.wrap&&(e.element.unwrap(),e._wrapper.remove()),e.element.removeClass("ui-removable")}}),o.widget(i.NS("dropdown"),{options:{classes:{wrapper:"ui-dropdown ui-widget ui-state-default",select:"ui-dropdown-select ui-state-default",replaced:"ui-dropdown-select-replaced",replace:"ui-dropdown-select-replace",open:"ui-dropdown-select-open",closed:"ui-dropdown-select-closed"},replace:!1,onselect:null},_list:null,_create:function(){var e,t=this,s=t.element,a=t.options;s.addClass(a.classes.select).wrap("<span />").parent().addClass(a.classes.wrapper),a.replace&&(t._list=e=t._replace(s),s.after(e),s.addClass(a.classes.replaced),t._bindHandlers())},value:function(e){return this.element.val(e)},_replace:function(e){var t=this,s=t.options,a=o("<ul />").addClass(s.classes.replace);return e.find("option").each(function(){var e=o(this);a.append(o("<li />").html(e.html()).addClass(e.attr("class")))}),a},_bindHandlers:function(){this._on(this.element,{focus:"_handleSelect",mousedown:"_handleSelect"}),this._on(this._list.children("li"),{click:"_handleSelect2"})},_handleSelect:function(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault(),this.element[0].blur(),window.focus(),this._list.removeClass(this.options.classes.closed).addClass(this.options.classes.open),!1},_handleSelect2:function(e){e.preventDefault();var t=this,s=t.element,a=t._list,n=a.children("li").index(e.target);return setTimeout(function(){s.prop("selectedIndex",n),a.removeClass(t.options.classes.open).addClass(t.options.classes.closed),t._trigger("onselect",e,{index:n,key:s.val()})},60),!1},_destroy:function(){var e=this,t=e.element,s=e.options,a=t.parent();t.unwrap().removeClass([s.classes.select,s.classes.replaced].join(" ")),s.replace&&(e._off(t,"mousedown"),e._off(t,"focus"),e._list.remove(),e._list=null),a.remove()}}),o.widget(i.NS("dropdown_menu"),{options:{wrap:!1},_create:function(){var e=this,t=e.element,s=e.options;s.wrap?t.wrap("<div />").parent().addClass("ui-dropdown-menu"):t.addClass("ui-dropdown-menu"),t.find("li li").each(function(){var e=o(this);e.children("ul").length&&e.addClass("ui-dropdown-submenu")})},_destroy:function(){var e=this,t=e.element;if(e.options.wrap){var s=t.parent();t.unwrap(),s.remove()}else t.removeClass("ui-dropdown-menu")}}),o.widget(i.NS("tooltip2"),o.ui.tooltip,{_create:function(){var e=this,t=e.element,s=e.options,l="[data-tooltip],[data-reftooltip],[title]";s.items=l,s.content=a,s.position=n(t.hasClass("has-tooltip-top")?"top":t.hasClass("has-tooltip-bottom")?"bottom":t.hasClass("has-tooltip-left")?"left":"right"),e._super()}}),o.widget(i.NS("uploadable"),{options:{classes:{button:"ui-button-xlarge",icon:"ui-icon-folder-open"},text:"Load File",fileType:"image",onload:null},_button:null,_create:function(){var e=this,t=e.element,s=e.options;t.addClass("ui-uploadable").css({position:"absolute",display:"none"});var a=e._button=o("<button></button>").addClass(s.classes.button).button({icons:{primary:s.classes.icon},label:t.attr("title")||t.data("title")||t.data("value")||s.text,text:!!(t.attr("title")||t.data("title")||t.data("value")||s.text)});e._on(t,{change:function(t){e._handleUpload(t)}}),e._on(a,{click:function(e){e.preventDefault(),t.trigger("click")}}),t.after(a)},_handleUpload:function(e){var t=this,s=t.options,a=e.target.files[0]||null;if(!a||!a.type.match(s.fileType))return!1;var n=new FileReader;n.addEventListener("load",function(e){t._trigger("onload",e,{data:e.target.result})}),n.readAsDataURL(a)},_destroy:function(){var e=this;e._off(e._button,"click"),e._button.remove().destroy(),e._off(e.element.removeClass("ui-uploadable").css({position:"relative",display:"inline"}),"change")}});var f={left:1,right:-1,up:2,down:-2},w=Math.max;o.widget(i.NS("scrollable"),{options:{classes:{wrapper:"ui-scrollable",scroll:"ui-scrollable-pane",item:"ui-scrollable-item"},onscrollend:null,direction:"left",easing:"linear",duration:400,scrollby:2,controls:{next:null,prev:null}},_current:null,_onEdge:!1,_wrapper:null,_items:null,_nItems:0,_dir:1,_width:0,_height:0,_create:function(){var e,t,s=this,a=s.options;e=s.element.addClass(a.classes.wrapper),e.children().length?(t=e.children().each(function(){o(this).wrap("<div />").parent().addClass(a.classes.item)}),s._wrapper=t.wrapAll("<div />").parent().addClass(a.classes.scroll).addClass(a.classes.scroll+"-"+a.direction)):s._wrapper=o("<div />").addClass(a.classes.scroll).addClass(a.classes.scroll+"-"+a.direction).appendTo(e),s._current=0,s.update(),a.controls&&(a.controls.next&&s._on(a.controls.next,{click:"next"}),a.controls.prev&&s._on(a.controls.prev,{click:"prev"}))},addItem:function(e){var t=this,s=e.wrap("<div />").parent().addClass(t.options.classes.item);return t._wrapper.append(s),t.update(),s},removeItem:function(e){var s=this;t!==e&&(e.jquery?s._wrapper.find(e.parent()).remove():s._wrapper.children().eq(e).remove(),s.update())},update:function(){var e,t,s=this,a=s.options;e=s._dir=f[a.direction]||1,s._items=s._wrapper.children(),t=s._nItems=s._items.length,2==e||-2==e?(s._height=100*t,s._wrapper.css({height:s._height+"%"})):(s._width=100*t,s._wrapper.css({width:s._width+"%"})),s._current>t&&(s._current=w(0,t-1-a.scrollby),s.scrollTo(s._current))},next:function(){var e=this;e._dir>0&&e._current<e._nItems?(e._current+=e.options.scrollby,e.scrollTo(e._current)):e._dir<0&&e._current>0&&(e._current-=e.options.scrollby,e.scrollTo(e._current))},prev:function(){var e=this;e._dir>0&&e._current>0?(e._current-=e.options.scrollby,e.scrollTo(e._current)):e._dir<0&&e._current<e._nItems&&(e._current+=e.options.scrollby,e.scrollTo(e._current))},scrollTo:function(e){var t,s=this,a=s._dir,n=s._nItems,l=e,i=s.options;return s._onEdge=!1,l.jquery?l=s._items.index(e):e=s._items.eq(l),!e.length||l>=n?void(s._onEdge=!0):void(1==a||-1==a?(t={left:-a*e.position().left},s._wrapper.animate(t,i.duration,i.easing,function(e){s._trigger("onscrollend",e)})):(2==a||-2==a)&&(t={top:(0>a?1:-1)*e.position().top},s._wrapper.animate(t,i.duration,i.easing,function(e){s._trigger("onscrollend",e)})))},_destroy:function(){var e=this,t=e.options;t.controls&&(t.controls.next&&e._off(t.controls.next,"click"),t.controls.prev&&e._off(t.controls.prev,"click")),e.element.removeClass(t.classes.wrapper),e._wrapper.children("."+t.classes.item).unwrap(),e._wrapper.remove()}})}(jQuery);